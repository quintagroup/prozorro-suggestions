const Prozorro_Suggestions={units:{suggest:function(e,i){let t,n;return i?(n=i.limit?i.limit:5,t=i.accuracyCutoff?i.accuracyCutoff:.1):(n=5,t=.1),fetch("https://nomad_test.office.ovirt/ua/prozorro/graphql",{method:"POST",headers:{"Content-Type":"application/json",accept:"*/*"},body:JSON.stringify({query:"\n                {\n                  Predictions {\n                    Unit(\n                      page: {limit: "+n+'},\n                      filters:[\n                        {eq: {field: "tender.title", value: "'+(e.tenderTitle?e.tenderTitle:"")+'"}},\n                        {eq: {field: "tender.description", value: "'+(e.tenderDescription?e.tenderDescription:"")+'"}},\n                        {eq: {field: "item.description", value: "'+(e.itemDescription?e.itemDescription:"")+'"}},\n                        {eq: {field: "item.classification.id", value: "'+(e.itemClassification?e.itemClassification:"")+'"}},\n                        {gte: {field: "probability", value: "'+t+'"}}\n                      ]){\n                      values{\n                        entity{\n                          id,\n                          name,\n                          symbol\n                        }\n                        probability\n                      }\n                    }\n                  }\n                }\n              '})}).then(e=>e.json()).then(e=>{let i=[];return e.data.Predictions.Unit.values.forEach(e=>{let t={};e.entity.id&&(t.id=e.entity.id),e.entity.name&&(t.name=e.entity.name),e.entity.symbol&&(t.symbol=e.entity.symbol),e.probability&&(t.accuracy=e.probability),i.push(t)}),i},e=>e)}}};
