let params="";request=function(i,e,t){let n,a,s,r="https://ocdsanalytics.com/ua/prozorro/graphql";return params&&params.endpoint&&(r=params.endpoint),e?(a=e.limit?e.limit:5,n=e.accuracyCutoff?e.accuracyCutoff:.1):(a=5,n=.1),s="units"===t?JSON.stringify({query:"\n                {\n                  Predictions {\n                    Unit(\n                      page: {limit: "+a+'},\n                      filters:[\n                        {eq: {field: "tender.title", value: "'+(i.tenderTitle?i.tenderTitle:"")+'"}},\n                        {eq: {field: "tender.description", value: "'+(i.tenderDescription?i.tenderDescription:"")+'"}},\n                        {eq: {field: "item.description", value: "'+(i.itemDescription?i.itemDescription:"")+'"}},\n                        {eq: {field: "item.classification.id", value: "'+(i.itemClassification?i.itemClassification:"")+'"}},\n                        {gte: {field: "probability", value: "'+n+'"}}\n                      ]){\n                      values{\n                        entity{\n                          id,\n                          name,\n                          symbol\n                        }\n                        probability\n                      }\n                    }\n                  }\n                }\n              '}):"classifications"===t?JSON.stringify({query:"\n                {\n                  Predictions {\n                    Classification(\n                      page: {limit: "+a+'},\n                      filters:[\n                        {eq: {field: "tender.title", value: "'+(i.tenderTitle?i.tenderTitle:"")+'"}},\n                        {eq: {field: "tender.description", value: "'+(i.tenderDescription?i.tenderDescription:"")+'"}},\n                        {eq: {field: "item.description", value: "'+(i.itemDescription?i.itemDescription:"")+'"}},\n                        {eq: {field: "item.unit.id", value: "'+(i.itemUnit?i.itemUnit:"")+'"}},\n                        {gte: {field: "probability", value: "'+n+'"}}\n                      ]){\n                      values{\n                        entity{\n                          id,\n                          description,\n                          scheme\n                        }\n                        probability\n                      }\n                    }\n                  }\n                }\n              '}):JSON.stringify({query:'\n                {\n                  Predictions {\n                    Unit(\n                      page: {limit: 5},\n                      filters:[\n                        {eq: {field: "tender.title", value: "'+(i.tenderTitle?i.tenderTitle:"")+'"}},\n                        {eq: {field: "tender.description", value: "'+(i.tenderDescription?i.tenderDescription:"")+'"}},\n                        {eq: {field: "item.description", value: "'+(i.itemDescription?i.itemDescription:"")+'"}},\n                        {eq: {field: "item.classification.id", value: "'+(i.itemClassification?i.itemClassification:"")+'"}},\n                        {gte: {field: "probability", value: "'+n+'"}}\n                      ]){\n                      values{\n                        entity{\n                          id,\n                          name,\n                          symbol\n                        }\n                        probability\n                      }\n                    }\n                     Classification(\n                      page: {limit: 5},\n                      filters:[\n                        {eq: {field: "tender.title", value: "'+(i.tenderTitle?i.tenderTitle:"")+'"}},\n                        {eq: {field: "tender.description", value: "'+(i.tenderDescription?i.tenderDescription:"")+'"}},\n                        {eq: {field: "item.description", value: "'+(i.itemDescription?i.itemDescription:"")+'"}},\n                        {eq: {field: "item.unit.id", value: "'+(i.itemUnit?i.itemUnit:"")+'"}},\n                        {gte: {field: "probability", value: "'+n+'"}}\n                      ]){\n                      values{\n                        entity{\n                          id,\n                          description,\n                          scheme\n                        }\n                        probability\n                      }\n                    }\n                  }\n                }\n              '}),fetch(r,{method:"POST",headers:{"Content-Type":"application/json",accept:"*/*",Authorization:"Bearer "+params.apiKey},body:s})};const item={units:{suggest:function(i,e){return request(i,e,"units").then(i=>i.json()).then(i=>{let e=[];return i.data.Predictions.Unit.values.forEach(i=>{let t={};i.entity.id&&(t.id=i.entity.id),i.entity.name&&(t.name=i.entity.name),i.entity.symbol&&(t.symbol=i.entity.symbol),i.probability&&(t.accuracy=i.probability),e.push(t)}),e},i=>i)}},classifications:{suggest:function(i,e){return request(i,e).then(i=>i.json()).then(i=>{let e=[];return i.data.Predictions.Classification.values.forEach(i=>{let t={};i.entity.id&&(t.id=i.entity.id),i.entity.description&&(t.description=i.entity.description),i.entity.scheme&&(t.scheme=i.entity.scheme),i.probability&&(t.accuracy=i.probability),e.push(t)}),e},i=>i)}},suggest:function(i,e){return request(i,e).then(i=>i.json()).then(i=>{let e={};if(i.data.Predictions.Classification.values){let t=[];i.data.Predictions.Classification.values.forEach(i=>{let e={};i.entity.id&&(e.id=i.entity.id),i.entity.description&&(e.description=i.entity.description),i.entity.scheme&&(e.scheme=i.entity.scheme),i.probability&&(e.accuracy=i.probability),t.push(e)}),e.classification=t}if(i.data.Predictions.Unit.values){let t=[];i.data.Predictions.Unit.values.forEach(i=>{let e={};i.entity.id&&(e.id=i.entity.id),i.entity.name&&(e.name=i.entity.name),i.entity.symbol&&(e.symbol=i.entity.symbol),i.probability&&(e.accuracy=i.probability),t.push(e)}),e.unit=t}return e},i=>i)}};class Prozorro_AI{static client(i){return params=i,item}}